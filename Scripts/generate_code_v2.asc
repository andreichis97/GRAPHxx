CC "Modeling" GET_ACT_MODEL
SETL actModelId: (modelid)

SETL message:("")

CC "Core" GET_ALL_OBJS_OF_CLASSNAME modelid:(actModelId) classname:"ThingIdentifier"
SETL thingIdentifiersObjids:(objids)
FOR i in:(thingIdentifiersObjids)
{
    CC "Core" GET_ATTR_VAL objid:(VAL i) attrname:"DName"
    SETL dNameValue:(val)
    CC "Core" GET_ATTR_VAL objid:(VAL i) attrname:"Label"
    SETL label:(val)
    SETL message:(message + dNameValue + " :hasLabel " + "\"" + label + "\"" + ".\n")

    #connectors
    CC "Core" GET_CONNECTORS objid:(VAL i) out
    SETL connectorsIds:(objids)
    FOR j in:(connectorsIds)
    {
        #CC "Core" GET_ATTR_VAL objid:(VAL j) attrname:"PName"
        #SETL pNameValue:(val)
        #SETL message:(message + pNameValue + "\n")
        CC "Core" GET_CONNECTOR_ENDPOINTS objid:(VAL j)
        IF(j != i)
        {
            #CC "Core" GET_ATTR_VAL objid:(toobjid) attrname:"URI"
            #SETL uri2:(val)
            #SETL message:(message + uri2 + "\n")
            CC "Core" GET_CLASS_ID objid:(toobjid)
            CC "Core" GET_CLASS_NAME classid:(classid)
            #SETL message:(message + classname + "\n")
            #CC "Modeling" DYE (j) make-visible
            IF(classname = "ThingType")
            {
                CC "Core" GET_ATTR_VAL objid:(toobjid) attrname:"DName"
                SETL objType:(val)
                SETL message:(message + dNameValue + " a " + objType + ".\n")
            }
            IF(classname = "ThingIdentifier")
            {
                #de tinut cont de ce fel de clasa este connectorul
                CC "Core" GET_ATTR_VAL objid:(VAL j) attrname:"PName"
                SETL relType:(val)
                CC "Core" GET_ATTR_VAL objid:(toobjid) attrname:"DName"
                SETL objType:(val)
                SETL message:(message + dNameValue + " " + relType + " " + objType + ".\n")
            }
            IF(classname = "Data")
            {
                CC "Core" GET_ATTR_VAL objid:(VAL j) attrname:"PName"
                SETL relType:(val)
                CC "Core" GET_ATTR_VAL objid:(toobjid) attrname:"Value"
                SETL dataValue:(val)
                SETL message:(message + dNameValue + " " + relType + " " + dataValue + ".\n")
            }
        }
    }
}
CC "AdoScript" VIEWBOX text:(message)
#CC "Modeling" UNDYE_ALL modelid:(modelid)